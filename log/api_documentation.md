# üìë –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –æ–±–ª–∞—Å—Ç—è–º `app` (–¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞) –∏ `web` (–¥–ª—è –≤–µ–±-–∫–ª–∏–µ–Ω—Ç–∞ –≥–æ—Å—Ç—è).

---

## üì± App API (–¥–ª—è –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–æ–≤)

###  Authentication

- **`POST /app/auth/login`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "username": "string", "password": "string", "restaurantId": "string" }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "waiter": { ... } }`
  - **–û—Ç–≤–µ—Ç (401 Unauthorized):** `{ "error": "Authentication failed" }`

### Shift Management

- **`POST /app/shift/check`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ —Å–º–µ–Ω—ã –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "waiterId": "string" }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "success": true, "shiftOpen": boolean, "openedAt": "string", "halls": [ ... ] }`

- **`POST /app/shift/open`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–π —Å–º–µ–Ω—ã –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "waiterId": "string", "restaurantId": "string" }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "success": true, "shiftOpen": true, ... }`

### Restaurant Data

- **`POST /app/halls`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–ª–æ–≤ –∏ —Å—Ç–æ–ª–æ–≤ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "restaurantId": "string" }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "success": true, "halls": [ { "id": "string", "name": "string", "tables": [ ... ] } ] }`

- **`GET /app/menu`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞.
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:** `?restaurantId=<ID>`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "categories": [ { "id": "string", "name": "string", "dishes": [ ... ] } ] }`

### Order Management

- **`POST /app/order/{tableId}`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –¥–ª—è —Å—Ç–æ–ª–∏–∫–∞.
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:** `{tableId}` - ID —Å—Ç–æ–ª–∏–∫–∞.
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "orderId": "string", "items": [] }`

- **`POST /app/order/{orderId}/items`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∑–∞–∫–∞–∑–µ.
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:** `{orderId}` - ID –∑–∞–∫–∞–∑–∞.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "items": [ { "dishId": "string", "quantity": int, "comment": "string"? } ] }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "message": "Order items added successfully" }`

---

## üåê Web API (–¥–ª—è –≥–æ—Å—Ç–µ–π)

### Restaurant & Menu

- **`GET /web/restaurants/{id}`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ.
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:** `{id}` - ID —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞.
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "id": "string", "name": "string", ... }`

- **`GET /web/restaurant_themes/{restaurantId}`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞.
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:** `{restaurantId}` - ID —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞.
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "id": "string", "theme_colors": { ... }, ... }`

- **`GET /web/menu`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–Ω—é. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ ID –∑–∞–∫–∞–∑–∞.
  - **–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer <orderId>`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "categories": [ ... ] }`

### Order Management

- **`POST /web/orderId/{tableId}`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –¥–ª—è —Å—Ç–æ–ª–∏–∫–∞ (–≤–µ–±-–∫–ª–∏–µ–Ω—Ç–æ–º).
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:** `{tableId}` - ID —Å—Ç–æ–ª–∏–∫–∞.
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "orderId": "string", "items": [] }`

- **`GET /web/order`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–∫–∞–∑–∞.
  - **–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer <orderId>`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "order_id": "string", "items": [ ... ] }`

- **`POST /web/order/items`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –≤ –∑–∞–∫–∞–∑ –≥–æ—Å—Ç–µ–º.
  - **–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer <orderId>`
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "items": [ { "dishId": "string", "quantity": int, ... } ] }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "message": "Order items added successfully" }`

### Table & Status

- **`GET /web/status/{table_id}`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å—Ç–æ–ª–∏–∫–∞.
  - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:** `{table_id}` - ID —Å—Ç–æ–ª–∏–∫–∞.
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "id": "string", "status": "string", ... }`

- **`POST /web/waiter_request`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—ã–∑–æ–≤ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):** `{ "tableNumber": "string", "requests": [ { "requestId": "string", "message": "string", "timestamp": "string" } ] }`
  - **–û—Ç–≤–µ—Ç (200 OK):** `{ "message": "Waiter requests created successfully" }`

---

- **`GET /`**
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
  - **–û—Ç–≤–µ—Ç (200 OK):** `Welcome to Dart Frog!`
